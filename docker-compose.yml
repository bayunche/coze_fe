# Docker Compose 配置 - 用于部署前端应用和Nginx
version: '3.8'

services:
  # 前端应用 + Nginx 反向代理
  frontend:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      # 挂载构建后的前端文件
      - ./dist:/usr/share/nginx/html
      # 挂载Nginx配置文件
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf
      # 挂载日志目录（可选）
      - ./nginx/logs:/var/log/nginx
    restart: unless-stopped
    # 使用宿主机网络，直接访问宿主机的1202和1207端口
    network_mode: host

# 注意：1202和1207端口已被现有Java服务占用，无需重复部署